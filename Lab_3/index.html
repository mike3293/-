<!DOCTYPE html>
<html lang="en">
<body>
<div id='result'></div>
<script>
    result.innerHTML = '';

    result.innerHTML += '<h3>default</h3>';
    for (let k = 0; k <= 20; k++) {
        const d = Date.now();

        fetch(`http://localhost:5000/fact?k=${k}`)
            .then(res => {return res.json();})
            .then((pdata) => {
                result.innerHTML += `${k}.Результат: ${Date.now() - d}-${pdata.k}/${pdata.fact}<br/>`;
            });
    }

    // result.innerHTML += '<h3>nextTick</h3>';
    // for (let k = 0; k <= 20; k++) {
    //     const d = Date.now();
    //
    //     fetch(`http://localhost:5000/factt?k=${k}`)
    //         .then(res => {return res.json();})
    //         .then((pdata) => {
    //             result.innerHTML += `${k}.Результат: ${Date.now() - d}-${pdata.k}/${pdata.fact}<br/>`;
    //         });
    // }

    // result.innerHTML += '<h3>setImmediate</h3>';
    // for (let k = 0; k <= 20; k++) {
    //     const d = Date.now();
    //
    //     fetch(`http://localhost:5000/facti?k=${k}`)
    //         .then(res => {return res.json();})
    //         .then((pdata) => {
    //             result.innerHTML += `${k}.Результат: ${Date.now() - d}-${pdata.k}/${pdata.fact}<br/>`;
    //         });
    // }
</script>
</body>
